<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <script>
            let rpsArray = [
                [1, 0, 1],
                [1, 1, 0],
                [0, 1, 1]
            ]
 
            let rpsDict = {
                'ROCK': 0,
                'PAPER': 1,
                'SCISSORS': 2
            }
            function getComputerChoice() {
                const choices = ['Rock', 'Paper', 'Scissors'];
                return choices[Math.floor(Math.random()*3)]       
            }

            function playRound(playerSelection, computerSelection) {
                let upperPlayerSelection = playerSelection.toUpperCase();
                let upperComputerSelection = computerSelection.toUpperCase();
                if (upperPlayerSelection === upperComputerSelection) {
                    return "Tie!"
                } else {

                    let gameResult = rpsArray[rpsDict[upperPlayerSelection]][rpsDict[upperComputerSelection]];
                    if (gameResult) {
                        return 'You won'
                    } else {
                        return 'You lost'
                    }
                }
            }

            function game() {
                let playerCount = 0;
                let compCount = 0;

                while (playerCount < 3 && compCount < 3) {
                    let playerSelection = prompt('Type your selection')
                    let computerChoice = getComputerChoice()

                    console.log('Your choice: ' + playerSelection)
                    console.log('Computer choice: ' + computerChoice)
                    console.log(playRound(playerSelection, computerChoice))

                    if (playRound(playerSelection, computerChoice) === 'You won') {
                        playerCount++;
                    } else if (playRound(playerSelection, computerChoice) == 'You lost') {
                        compCount++;
                    }

                    console.log('Player: ' + playerCount + " to Computer: " + compCount)
                }

                if (playerCount > compCount) {
                    console.log('You won the game!!!')
                } else if (playerCount === compCount) {
                    console.log('So laame you tied')
                } else {
                    console.log('Hahaha you lost!')
                }

            }

            game()

        </script>  
    </body>
</html>

